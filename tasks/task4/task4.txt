03.12.2019

Задание.

Написать графическую программу под Win64.
Программа должна рисовать график функции на указанном интервале.
Интерфейс программы должен позволять ввести функцию и указать нужный интервал (целочисленные концы интервала).
С помощью интегральных сумм необходимо вычислить интеграл функции на заданном интервале.
Для вычисления интеграла и значения функции в точках необходимо использовать арифметический сопроцессор.



Базовая функциональность (к сдаче не принимаются задания с функциональностью меньше базовой).
15 баллов.
1) Должна быть реализована универсальная функция рисования графика любой функции (указатель на функцию передаётся в качестве параметра).
2) Должна быть реализована поддержка следующих функций (рисование с помощью универсальной функции):
- sin x
- cos x
- tg x
- ctg x
- x в произвольной степени
- логарифм (двоичный, натуральный, десятичный)
3) Вычисление интеграла.



Полная функциональность

Требования (дополнительно к базовым):
1) Поддержка произвольного многочлена с произвольными степенями (возможно, отрицательными и вещественными). До 5 баллов.
2) Масштабирование (универсальное, не зависящее от функции) по оси абсцисс. До 5 баллов.
3) Масштабирование (универсальное, не зависящее от функции) по оси ординат. До 5 баллов.



Указания и рекомендации (для полной функциональности).

График функции необходимо отмасштабировать так, чтобы в окно помещался по возможности весь график максимального размера.
После указания концов интервала ось абсцисс следует отмасштабировать так, чтобы указанный интервал умещался на всей ширине области для рисования.
Для масштабирования по оси ординат необходимо знать максимальное и минимальное значение функции на интервале. Для этого следует вычислить ее значения во всех точках интервала с некоторым шагом.
Для отображения графика функции следует вычислить значение функции во всех точках оси абсцисс, соответствующих отдельным пикселям (логическим координатам контекста устройства). Какой координате соответствует пиксель следует определять из масштабирования оси абсцисс.

Радиус разбиения при вычисления интегральных сумм следует определять эмпирически.

В нотации fastcall x64 вещественные аргументы передаются через регистры xmm0-xmm4.
Но в своих функциях можно предложить любой способ передачи аргументов.
Например, через регистр st0, или через один из регистров общего назначения.
